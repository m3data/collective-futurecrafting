<header class="site-header">
  <nav class="main-nav">
    <a href="{{ '/' | relative_url }}">
      <img src="{{ '/assets/images/logo.svg' | relative_url }}" alt="Collective Futurecrafting Logo" class="header-logo">
    </a>
    
    <button class="menu-toggle" aria-label="Toggle menu">â˜°</button>
    
    <ul class="nav-list">
      {% for item in site.data.navigation.main %}
        <li class="nav-item {% if item.children %}has-dropdown{% endif %}">
          <a href="{{ item.url | relative_url }}" {% if item.children %}class="dropdown-trigger"{% endif %}>
            {{ item.title }}
            {% if item.children %}
              <svg class="dropdown-arrow" width="10" height="6" viewBox="0 0 10 6">
                <path d="M1 1L5 5L9 1" stroke="currentColor" fill="none" stroke-width="2"/>
              </svg>
            {% endif %}
          </a>
          {% if item.children %}
            <ul class="dropdown-menu">
              {% for child in item.children %}
                <li class="dropdown-item">
                  <a href="{{ child.url | relative_url }}">{{ child.title }}</a>
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </nav>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Mobile menu toggle
      const menuToggle = document.querySelector('.menu-toggle');
      const navList = document.querySelector('.nav-list');
      
      menuToggle.addEventListener('click', function() {
        navList.classList.toggle('active');
      });

      // Dropdown functionality for desktop
      const dropdownTriggers = document.querySelectorAll('.dropdown-trigger');
      
      dropdownTriggers.forEach(trigger => {
        trigger.addEventListener('click', function(e) {
          if (window.innerWidth > 768) { // Only prevent default on desktop
            e.preventDefault();
          }
          const dropdownMenu = this.nextElementSibling;
          dropdownMenu.classList.toggle('active');
        });
      });

      // Close dropdowns when clicking outside
      document.addEventListener('click', function(e) {
        if (!e.target.closest('.has-dropdown')) {
          document.querySelectorAll('.dropdown-menu').forEach(menu => {
            menu.classList.remove('active');
          });
        }
      });
    });
  </script>
</header>